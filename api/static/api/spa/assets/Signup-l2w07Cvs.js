import{s as v}from"./vue-multiselect.min-9-2vO113.js";import{d as y,f as l,_ as c,c as p,a as r,w as t,v as a,g,b,e as E,h as I,o as u}from"./index-2fN0mo1y.js";const V=y({components:{Multiselect:v},setup(){const e=l({first_name:"",last_name:"",email:"",date_of_birth:"",password:"",confirm_password:""}),s=l([]),f=l([]),n=l(!1),i=l(!1);return{form:e,selectedHobbies:s,hobbyOptions:f,passwordError:n,userExistsError:i,submit:async()=>{if(n.value=!1,i.value=!1,e.value.password!==e.value.confirm_password){n.value=!0;return}const d={first_name:e.value.first_name,last_name:e.value.last_name,email:e.value.email,date_of_birth:e.value.date_of_birth,password:e.value.password,password1:e.value.password,password2:e.value.confirm_password,hobbies:s.value.map(o=>({id:o.id,name:o.name}))};try{const m=await(await fetch("http://127.0.0.1:8000/api/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();m.success?alert("Signup successful"):m.error==="User already exists"?i.value=!0:alert("Signup failed: "+m.error)}catch(o){console.error("Error during signup:",o)}}}}}),N={class:"mb-3"},U={class:"mb-3"},q={class:"mb-3"},S={class:"mb-3"},C={class:"mb-3"},P={class:"mb-3"},k={class:"mb-3"},B={key:0,class:"alert alert-danger"},h={key:1,class:"alert alert-danger"};function H(e,s,f,n,i,w){const d=I("multiselect");return u(),p("form",{onSubmit:s[7]||(s[7]=E((...o)=>e.submit&&e.submit(...o),["prevent"])),class:"border p-4 bg-light"},[r("div",N,[s[8]||(s[8]=r("label",{for:"firstNameInput",class:"form-label"},"First Name",-1)),t(r("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.first_name=o),class:"form-control",id:"firstNameInput",placeholder:"Enter first name",required:""},null,512),[[a,e.form.first_name]])]),r("div",U,[s[9]||(s[9]=r("label",{for:"lastNameInput",class:"form-label"},"Last Name",-1)),t(r("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.last_name=o),class:"form-control",id:"lastNameInput",placeholder:"Enter last name",required:""},null,512),[[a,e.form.last_name]])]),r("div",q,[s[10]||(s[10]=r("label",{for:"emailInput",class:"form-label"},"Email",-1)),t(r("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=o=>e.form.email=o),class:"form-control",id:"emailInput",placeholder:"Enter email",required:""},null,512),[[a,e.form.email]])]),r("div",S,[s[11]||(s[11]=r("label",{for:"dobInput",class:"form-label"},"Date of Birth",-1)),t(r("input",{type:"date","onUpdate:modelValue":s[3]||(s[3]=o=>e.form.date_of_birth=o),class:"form-control",id:"dobInput",placeholder:"Enter date of birth",required:""},null,512),[[a,e.form.date_of_birth]])]),r("div",C,[s[12]||(s[12]=r("label",{for:"hobbiesInput",class:"form-label"},"Hobbies",-1)),g(d,{modelValue:e.selectedHobbies,"onUpdate:modelValue":s[4]||(s[4]=o=>e.selectedHobbies=o),options:e.hobbyOptions,label:"name","track-by":"id",multiple:""},null,8,["modelValue","options"])]),r("div",P,[s[13]||(s[13]=r("label",{for:"passwordInput",class:"form-label"},"Password",-1)),t(r("input",{type:"password","onUpdate:modelValue":s[5]||(s[5]=o=>e.form.password=o),class:"form-control",id:"passwordInput",placeholder:"Password",required:""},null,512),[[a,e.form.password]])]),r("div",k,[s[14]||(s[14]=r("label",{for:"passwordInput2",class:"form-label"},"Confirm Password",-1)),t(r("input",{type:"password","onUpdate:modelValue":s[6]||(s[6]=o=>e.form.confirm_password=o),class:"form-control",id:"passwordInput2",placeholder:"Confirm Password",required:""},null,512),[[a,e.form.confirm_password]])]),e.passwordError?(u(),p("div",B," Passwords do not match. ")):b("",!0),e.userExistsError?(u(),p("div",h," User already exists. ")):b("",!0),s[15]||(s[15]=r("button",{type:"submit",class:"btn btn-primary"},"Sign Up",-1))],32)}const M=c(V,[["render",H]]);export{M as default};
